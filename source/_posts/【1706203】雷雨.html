---
title: 【1706204】雷雨·导演说戏：sd
tags:
  - 语文
  - 雷雨
  - 导演说戏
categories:
  - 语文
  - 雷雨
  - 导演说戏
date: 2017-06-20
---
<div class="container post-container-box">
  <div class="col-sm-12 col-lg-12 hidden">
    <video src="" controls autoplay width="100%"></video>
  </div>
	<div class="col-sm-6">
    <div class="preview img-thumbnail img-responsive"
      onmouseenter="$(video_get(this).video.preview_bar).stop();$(video_get(this).video.preview_bar).fadeIn(200);"
      onmouseleave="$(video_get(this).video.preview_bar).stop();$(video_get(this).video.preview_bar).fadeOut(200);"
      onmousemove="change_progress(video_get(this), event);">
      <img class="preview-image" src="img/blank.webp" onerror="video_init(this, [1706204, '', '', '', '', '/', 5])">
      <div class="preview-progress progress" style="display:none">
        <div class="preview-progress-bar progress-bar progress-bar-success"></div>
      </div>
    </div>
	</div>
	<div class="col-sm-6">
		<div><dl class="video-info dl-horizontal">
			<dt>视频ID</dt><dd>1706204</dd>
			<dt>标题/主讲者</dt><dd>雷雨·导演说戏：谢思敏</dd>
			<dt>时长(毫秒)</dt><dd>06:01.37</dd>
			<dt>视频大小</dt><dd>38.39MB</dd>
      <dt>备注</dt><dd>一切正常！</dd>
    </dl></div>
		<div class="text-center">
			<a class="btn load-btn" href="{{ path }}">加载视频</a>
		</div>
	</div>
</div>
<script>
delete in_post_page
function setFancyBox (node, src) {
  node.setAttribute('href', src)
  node.firstElementChild.setAttribute('src', src)
}
function video_init (node, data) {
  let root = video_get(node)
  if (typeof root !== 'undefined' && typeof root.video ==='undefined')
  setTimeout(function (root, data) {
    root.video = {
      data: data,
      player: root.children[0],
      preview: root.children[1].firstElementChild,
      preview_img: root.children[1].firstElementChild.firstElementChild,
      preview_bar: root.children[1].firstElementChild.lastElementChild,
      preview_bar_p: root.children[1].firstElementChild.lastElementChild.firstElementChild,
      detail: root.children[2],
      loadbtn: root.children[2].getElementsByClassName('btn load-btn')[0]
    }
    
    setFancyBox(root.video.preview_img, root.video.data[5] + root.video.data[0] + '/' + root.video.data[0] + '-1.webp')
    
    if (typeof in_post_page !== 'undefined') {
      root.video.loadbtn.removeAttribute('href')
      root.video.loadbtn.setAttribute('onclick', 'loadvideo(video_get(this))')
    }
    console.log('done')
  }.bind(null, root, data), 300)
}
function video_get (node) {
  let now = node
  while (now && now.classList.value !== "container post-container-box")
    now = now.parentElement
  return now
}


function change_progress (node, e) {
  let rate = e.layerX / e.srcElement.offsetWidth * 100
  let interval = 100 / node.video.data[6]
  
  node.video.preview_bar_p.style.width = rate + '%'
  setFancyBox(node.video.preview_img, node.video.data[5] + node.video.data[0] + '/' + node.video.data[0] + '-' + Math.floor(rate / interval + 1) + '.webp');
}
</script>
<!-- more -->
<script>
var in_post_page = null
function loadvideo(node) {
  node.video.player.firstElementChild.setAttribute('src', node.video.data[5] + node.video.data[0] + '/' + node.video.data[0] + '.mp4')
  $(node.video.player).slideDown('slow')
} 
</script>